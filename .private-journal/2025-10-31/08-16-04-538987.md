---
title: "8:16:04 AM - October 31, 2025"
date: 2025-10-30T19:16:04.538Z
timestamp: 1761851764538
---

## Project Notes

## Flutter Embedded Nostr Relay Symlink Setup

**Discovery**: The `flutter_embedded_nostr_relay` package is a required local dependency for OpenVine that must be symlinked from a separate repository.

**Location**:
- Source repo: `/Users/rabble/code/vine_fun/flutter_embedded_nostr_relay`
- Symlink location: `/Users/rabble/code/andotherstuff/flutter_embedded_nostr_relay`
- Package path in pubspec.yaml: `../flutter_embedded_nostr_relay/flutter_embedded_nostr_relay`

**Setup Command**:
```bash
cd /Users/rabble/code/andotherstuff
ln -s /Users/rabble/code/vine_fun/flutter_embedded_nostr_relay flutter_embedded_nostr_relay
```

**Import Pattern**:
```dart
import 'package:flutter_embedded_nostr_relay/flutter_embedded_nostr_relay.dart';
```

**Architecture**:
- Embedded relay runs inside Flutter app on localhost:7447
- NostrService connects to ws://localhost:7447 (NOT to external relays directly)
- Embedded relay manages all external relay connections
- This prevents NostrService from trying to connect directly to external relays

**Documentation Added**:
- Added comprehensive "Dependency Setup" section to `.claude/CLAUDE.md`
- Includes setup instructions, import usage, architecture notes, and common issues
- Located after "Development Environment" section for visibility

**Key Learning**: When working with local package dependencies in Flutter, always verify the symlink exists and is pointing to the correct location. This is a common setup issue that can break builds.
